<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>focus-trap demo</title>

  <link rel="stylesheet" href="style.css">
  <meta name="description" content="A demo of focus-trap">

</head>
<body>
  <h1 tabindex="0">focus-trap demo</h1>

  <p>
    <span style="font-size:2em;vertical-align:middle;">☜</span>
    <a href="https://github.com/davidtheclark/focus-trap" style="vertical-align:middle;">Return to the repository</a>
  </p>

  <p>
    In the demos below, you'll be able to tell that a focus trap is active because it will turn pink. You should also be able to tell because it will trap your focus: you won't be able to do anything outside of the focus trap.
  </p>

  <p>
    When a trap is active, you can deactivate it by pushing its deactivate button or pushing the Escape key.
  </p>

  <p>
    <em>(Note that tab order is a little wonky on this page because of demo three.)</em>
  </p>

  <h2 id="demo-one-heading">demo one</h2>
  <p>
    Default behavior: When this focus trap activates, the first element in its tab order receives focus.
  </p>
  <p>
    <button id="activate-one">
      activate trap 1
    </button>
  </p>
  <div id="demo-one" class="trap">
    <p>
      Here is a focus trap <a href="#">with</a> <a href="#">some</a> <a href="#">focusable</a> parts.
    </p>
    <p>
      <button id="deactivate-one">
        deactivate trap 1
      </button>
    </p>
  </div>

  <h2 id="demo-two-heading">demo two</h2>
  <p>
    When this focus trap activates, focus jumps to a specific, manually specified element.
  </p>
  <p>
    Also, in this demo the Escape key does not deactivate the focus trap. You must click the button.
  </p>
  <p>
    <button id="activate-two">
      activate trap 2
    </button>
  </p>
  <div id="demo-two" class="trap">
    <p>
      Here is a focus trap <a href="#">with</a> <a href="#">some</a> <a href="#">focusable</a> parts.
    </p>
    <p>
      <label htmlFor="focused-input" class="inline-label">
        Initially focused input
      </label>
      <input id="focused-input" />
    </p>
    <p>
      <button id="deactivate-two">
        deactivate trap 2
      </button>
    </p>
  </div>

  <h2 id="demo-three-heading">demo three</h2>
  <p>
    When this focus trap activates, the first element in its tab order receives focus,
    but because of positive tabindex attributes the tab order is not the same as the source order.
  </p>
  <p>
    Also, clicking outside of this trap deactivates it and does not prevent the click's intended action.
  </p>
  <p>
    <button id="activate-three">
      activate trap 3
    </button>
  </p>
  <div id="demo-three" class="trap">
    <p>
      <button tabIndex="3">
        tabindex=3
      </button>
    </p>
    <p>
      <button tabIndex="2">
        tabindex=2
      </button>
    </p>
    <p>
      <button tabIndex="4">tabindex 4</button>
    </p>
    <p>
      <button>no tabindex</button>
    </p>
    <p>
      <button id="deactivate-three" tabIndex="1">
        deactivate trap 3 (tabindex=1)
      </button>
    </p>
  </div>

  <h2 id="demo-four-heading">demo four</h2>
  <p>
    Initial focus on a containing element with a tabindex of -1 and no focus outline;
    so when you "tab" you are within the trap, but by tabbing through focus does
    not return to the container.
  </p>
  <p>
    <button id="activate-four">
      activate trap 4
    </button>
  </p>
  <div id="demo-four" class="trap" tabindex="-1">
    <p>
      <button>
        first
      </button>
    </p>
    <p>
      <button>
        second
      </button>
    </p>
    <p>
      <button id="deactivate-four">
        deactivate trap 4
      </button>
    </p>
  </div>

  <h2 id="demo-five-heading">demo five</h2>
  <p>
    Focusable nodes are initially hidden and then revealed within the trap.
  </p>
  <p>
    <button id="activate-five">
      activate trap 5
    </button>
  </p>
  <div id="demo-five" class="trap" tabindex="-1">
    <p>
      <button>
        nothing
      </button>
    </p>
    <p>
      <button id="demo-five-show-more">
        click to show more
      </button>
    </p>
    <div id="demo-five-more" style="display:none;">
      <p>
        <button>
          nothing again
        </button>
      </p>
      <p>
        <button id="demo-five-show-less">
          click to show less
        </button>
      </p>
    </div>
  </div>

  <h2 id="demo-six-heading">demo six</h2>
  <p>
    Nested focus traps
  </p>
  <p>
    <button id="activate-six">
      activate trap 6
    </button>
  </p>
  <div id="demo-six" class="trap" tabindex="-1" style="display:none;">
    <p>
      <button id="deactivate-six">
        deactive outer trap
      </button>
    </p>
    <p>
      <button id="demo-six-activate-nested">
        active inner trap
      </button>
    </p>
    <div id="demo-six-nested" style="display:none;padding:5px 10px;background:pink;">
      <p>
        <button>
          nothing
        </button>
      </p>
      <p>
        <button id="demo-six-deactivate-nested">
          deactivate and close inner trap
        </button>
      </p>
    </div>
  </div>

  <h2 id="demo-seven-heading">demo seven</h2>
  <p>
    In this focus trap, the single focusable button is hidden.
    If you activate the trap in this state, the "fallbackFocus" option is used to focus the container.
    If, however, you make the focusable button visible, it will receive focus when you activate the trap.
  </p>
  <p>
    <button id="activate-seven">
      activate trap 7
    </button>
  </p>
  <div id="demo-seven" class="trap" tabindex="-1">
    <p>
      <button id="deactivate-seven" tabindex="-1">
        deactivate trap 7
      </button>
    </p>
    <p>
      <button id="demo-seven-show-focusable" tabindex="-1">
        show focusable button
      </button>
    </p>
    <p>
      <button id="demo-seven-hide-focusable" style="display:none;">
        hide focusable button
      </button>
    </p>
  </div>

  <h2 id="demo-eight-heading">demo eight</h2>
  <p>
    Any change to the input content triggers automatic activation of the focus trap, without changing selection.
  </p>
  <p>
    Also, in this demo the Escape key does not deactivate the focus trap. You must click the button.
  </p>
  <div id="demo-eight" class="trap">
    <p>
      Here is a focus trap <a href="#">with</a> <a href="#">some</a> <a href="#">focusable</a> parts.
    </p>
    <p>
      <label htmlFor="focused-input8" class="inline-label">
        Initially focused input
      </label>
      <input id="focused-input8" />
    </p>
    <p>
      <button id="deactivate-eight">
        deactivate trap 8
      </button>
    </p>
  </div>

  <h2 id="demo-nine-heading">demo nine</h2>
  <p>
    Initial focus on a element with a tabindex of -1 and no focus outline;
    so when you "tab" you will get to the next or previous element according to the browser.
    While tabbing through, the focus does not return to the initial focused element.
  </p>
  <p>
    <button id="activate-nine">
      activate trap 9
    </button>
  </p>
  <div id="demo-nine" class="trap">
    <p>
      <button>
        nothing
      </button>
    </p>
    <p>
      <button tabindex="1">
        tabindex=1
      </button>
    </p>
    <p>
      <button>
        nothing
      </button>
    </p>
    <p>
      <button id="initial-nine" tabindex="-1">
        Initial (tabindex="-1")
      </button>
    </p>
    <p>
      <button id="deactivate-nine">
        deactivate trap 9
      </button>
    </p>
  </div>
  
  <h2 id="demo-ten-heading">demo ten</h2>
  <p>
    This focus trap uses a native web component with shadow DOM, as well as slots. Initially the focus is set to a button
    with a tabindex of -1, but then the focus trap will cycle through elements by preserving specified tabindex order, then
    go through elements within the shadow DOM while mixing in slotted elements that live in the light DOM.
  </p>
  <p>
    <button id="activate-ten">
      activate trap 10
    </button>
  </p>
  <div id="demo-ten" class="trap">
    <p>
      <button>
        light dom
      </button>
    </p>
    <p>
      <button tabindex="1">
        light dom tabindex=1
      </button>
    </p>
    <p>
      <focus-trap-test-component id="basic-web-component-ten"></focus-trap-test-component>
    </p>
    <p>
      <focus-trap-test-component id="slotted-web-component-ten">
        <button>
          slotted button
        </button>
      </focus-trap-test-component>
    </p>
    <p>
      <focus-trap-test-component id="slotted-web-component-ten">
        <button tabindex="2">
          slotted button tabindex="2"
        </button>
      </focus-trap-test-component>
    </p>
    <p>
      <button id="initial-ten" tabindex="-1">
        Initial (tabindex="-1")
      </button>
    </p>
    <p>
      <button id="deactivate-ten">
        deactivate trap 10
      </button>
    </p>
  </div>

  <p>
    <span style="font-size:2em;vertical-align:middle;">☜</span>
    <a href="https://github.com/davidtheclark/focus-trap" style="vertical-align:middle;">Return to the repository</a>
  </p>

  <!-- The custom elements es5 adapter is only needed in browsers that natively support custom elements, but transpiled to es5... -->
  <script>if (!window.customElements) { document.write('<!--'); }</script>
  <script src="js/polyfills/custom-elements-es5-adapter.js"></script>
  <!--! do not remove -->

  <script src="js/polyfills/webcomponents-lite.js"></script>
  <script src="demo-bundle.js"></script>
</body>
</html>
